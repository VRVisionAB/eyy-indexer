<VirtualHost *:443>
        ServerName website.com
        ServerAlias www.website.com

        DocumentRoot "/var/www/website/public"

        <Directory "/var/www/website/public">
                Require all granted
                Options -Indexes
                AllowOverride All
        </Directory>

	RewriteEngine On

        # Enable the Indexer for all directories without an index.html or index.php
        RewriteCond %{DOCUMENT_ROOT}%{REQUEST_FILENAME}/index\.html !-f
        RewriteCond %{DOCUMENT_ROOT}%{REQUEST_FILENAME}/index\.php !-f
        RewriteCond %{DOCUMENT_ROOT}%{REQUEST_FILENAME} -d
        RewriteRule ^/(.*)$ /indexer.php?dir=$1 [QSA,L]

        # Remove direct access to the Indexer
        RewriteRule ^/indexer.php(.*)$ - [R=404,L]
</VirtualHost>
