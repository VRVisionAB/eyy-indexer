// indexer.js [https://github.com/sixem/eyy-indexer]

function isMobileDevice(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function shortenString(e,t){return t=t||28,e.length>t?[e.substr(0,t/2-1),e.substr(e.length-(t/2-1),e.length)].join(" .. "):e}function getLocalStorageKey(e){return $value=localStorage.getItem(e),null===$value?null:"false"==$value||"true"==$value?JSON.parse($value):$.isNumeric($value)?parseInt($value):$value}function arrayContains(e,t){return $.inArray(e,t)>-1}function elemPosition(e){try{return($(e).offset().top-$(window).scrollTop())/$(window).height()}catch(e){return null}}function isScrolledIntoView(e,t){return t=t||0,$docViewTop=$(window).scrollTop(),$docViewBottom=$docViewTop+$(window).height(),$elemTop=$(e).offset().top-t,$elemBottom=$elemTop+$(e).height(),$elemBottom<=$docViewBottom&&$elemTop>=$docViewTop}function getReverseImageSearchOptions(e){return{Google:"https://www.google.com/searchbyimage?image_url="+encodeURIComponent(e)+"&safe=off",Yandex:"https://yandex.com/images/search?source=collections&&url="+encodeURIComponent(e)+"&rpt=imageview",IQDB:"https://iqdb.org/?url="+encodeURIComponent(e)}}function applySwipeEventListeners(){1==$variables.isMobile&&($container=$(".gallery-item-container"),$container.length>0&&$container.on({swipeleft:function(e){galleryNavigate(1)},swiperight:function(e){galleryNavigate(-1)}}))}function applyReverseSearchOptions(e){$options["gallery.hover.showImageOptions"]&&($reverseOptions=$.map(getReverseImageSearchOptions(document.location.origin+e),function(e,t){return'<a target="_blank" href="'+e+'">'+t+"</a>"}).join("|"),0==$("#image-container > .tb-reverse-search-container").length&&$("#image-container").prepend('<div class="tb-reverse-search-container"></div>'),$("#image-container > .tb-reverse-search-container").html($reverseOptions))}function copyToClipboard(e){$temp=$("<input>"),$("body").append($temp),$temp.val($(e).text()).select(),document.execCommand("copy"),$temp.remove()}function isEmpty(e){return"string"==typeof e&&!e.trim()||void 0===e||null===e}function disableMainScrolling(e){$main=$(".content-main"),e?($variables.scrollPosition=$(document).scrollTop(),$("html, body").css({overflow:"hidden",height:"100%"}),$main.addClass("blur"),$main.css({overflow:"hidden","margin-top":"0px","padding-right":$(window).innerWidth()-$(document).width()+"px"})):($("html, body").css({overflow:"",height:""}),$main.removeClass("blur"),$main.css({overflow:"","margin-top":"8px","padding-right":""}),void 0!=$variables.scrollPosition&&$variables.scrollPosition>0&&$(document).scrollTop($variables.scrollPosition))}function adjustGalleryItems(){$variables.topbarHeight=$(".gallery-topbar").outerHeight(),$list=$("#gallery-list"),$list.length>0&&$list.css({height:"calc(100vh - "+($variables.topbarHeight+2)+"px)","margin-top":"0px"}),$("#gallery-container").css({"margin-top":$variables.topbarHeight+"px",height:"calc(100vh - "+$variables.topbarHeight+"px"}),$variables.isMobile&&($navigationBars=$(".navigation-overlay-left, .navigation-overlay-right"),$navigationBars.css({"margin-top":$variables.topbarHeight+"px",height:"calc(100vh - "+$variables.topbarHeight+"px)"}))}function galleryLoading(e){$variables.galleryIsBusy=e,$loader=$("#gallery-loader"),e?(0==$loader.length&&($variables.isMobile?($("body").append('<div id="gallery-loader">Loading ..</div>'),$y=$(".navigation-overlay-left"),$y.length>0&&$("#gallery-loader").css("left",$y.innerWidth()+"px")):$(".tb-items > div").prepend('<span id="gallery-loader">[Loading ..]</span>')),$("#gallery-loader").fadeIn(500)):($loader.stop(),$loader.fadeOut(100,function(){$("#gallery-loader").remove(),adjustGalleryItems()}))}function galleryIsVisible(){return $("#gallery-container").length>0}function galleryHandleKey(e){galleryIsVisible()&&(27===e&&galleryClose(),37===e&&galleryNavigate(-1),39===e&&galleryNavigate(1),38!==e&&33!==e||galleryNavigate(-1),40!==e&&34!==e||galleryNavigate(1))}function galleryClose(){$(document).has("#gallery-container")&&$("#gallery-container").remove(),$(document).has(".gallery-topbar")&&$(".gallery-topbar").remove(),disableMainScrolling(!1)}function isGalleryListVisible(){return $("#gallery-list").is(":visible")}function doesGalleryListExist(){return $("#gallery-list").length>0}function hideGalleryList(){$listContainer=$("#gallery-list"),isGalleryListVisible()&&($listContainer.hide(),$listToggleButton=$("#gallery-toggle-list"),$listToggleButton.attr("onclick","showGalleryList();"),$listToggleButton.text("[List+]"),$variables.galleryListShow=!1)}function showGalleryList(){if($listToggleButton=$("#gallery-toggle-list"),$variables.galleryListShow=!0,doesGalleryListExist()&&!1===isGalleryListVisible())return $list=$("#gallery-list"),$list.show(),$listToggleButton.text("[List-]").attr("onclick","hideGalleryList();"),$selectedItem=$list.find(".selected").first(),$selectedItem.length>0&&!isScrolledIntoView($selectedItem,$selectedItem.height())&&$list.scrollTo($selectedItem),!0;galleryIsVisible()&&!1===doesGalleryListExist()&&($listToggleButton.text("[List-]"),$listToggleButton.attr("onclick","hideGalleryList();"),$table='<table cellspacing="0"><tbody></tbody></table>',$container=$("#gallery-container"),$container.find(".gallery-current-item").append('<div id="gallery-list">'+$table+"</div>"),$("#indexer-files-table .item:visible").each(function(){if($(this).is(":hidden"))return!0;$current=$(this).find("td").first(),$current.hasClass("preview")&&$(".gallery-current-item").find("#gallery-list > table").append("<tr><td>"+$current.find("a").text()+"</td></tr>")}),setGalleryListSelected($variables.currentItem)),adjustGalleryItems()}function setGalleryListSelected(e){$list=$("#gallery-list"),$listItems=$list.find("table > tbody").find("tr > td"),$current=$listItems.eq(e).first(),void 0!=$current&&(isScrolledIntoView($current,$current.height())||$list.scrollTo($current)),$listItems.removeClass("selected"),$current.addClass("selected")}function waitForVideo(e,t){function i(){4==e.prop("readyState")||3==e.prop("readyState")?(galleryLoading(!1),$container=$("#video-container"),$.isNumeric($variables.topbarHeight)&&e.css("max-height","calc(100vh - "+$variables.topbarHeight+"px"),0==t?(e.show(),$container.show()):($other=$container.find("video").not(".pseudo"),e.removeClass("pseudo"),e.show(),$other.remove()),e.one("seeked",function(){}).prop("currentTime",0),$(".gallery-item-container > #image-container").hide(),$container.show()):setTimeout(i,100)}void 0==t&&(t=!1),i()}function createPseudoVideo(e){return'<video controls loop class="pseudo"><source src="'+e+'"></video>'}function galleryLoadItem(e){$ext=e.split(".").pop().toLowerCase(),$videoContainer=$(".gallery-item-container #video-container"),$videoContainer.find("source").length>0&&$videoContainer.find("video").get(0).pause(),arrayContains($ext,["jpg","jpeg","gif","png","ico","svg","bmp"])&&($variables.currentItemType=1,0==$(".gallery-item-container #image-container").length&&$(".gallery-item-container").append('<div id="image-container"><img src=""></div>'),$img=new Image,$($img).on("load",function(){$img_el=$(".gallery-item-container > #image-container > img"),$img_el.attr("src",$img.src),$.isNumeric($variables.topbarHeight)&&$img_el.css("max-height","calc(100vh - "+$variables.topbarHeight+"px"),galleryLoading(!1),$(".gallery-item-container > #image-container").show(),$videoContainer.hide()}),$img.src=e),arrayContains($ext,["mp4","webm"])&&($variables.currentItemType=2,0==$videoContainer.length?($(".gallery-item-container").append('<div id="video-container"><video controls loop><source src=""></video></div>'),$video=$("#video-container video"),$video.find("source").attr("src",e),$video.load(),waitForVideo($video,!1)):($container=$("#video-container"),$container.find(".pseudo").remove(),$container.append(createPseudoVideo(e)),$video=$container.find(".pseudo"),$video.load(),waitForVideo($video,!0))),applyReverseSearchOptions(e),adjustGalleryItems()}function getItemData(e){return $variables.isMobile?$filename=shortenString(e.attr("data-raw")):$filename=e.attr("data-raw"),$parent=e.parent(),{filename:$filename,filenameFull:e.attr("data-raw"),filesize:$parent.find("td").eq(2).html(),modified:$parent.find("td").eq(1).html(),url:e.find("a").attr("href"),ext:e.attr("data-raw").split(".").pop().toLowerCase()}}function setCurrentItem(e,t){if(0==(t=t||!1))1==e&&($variables.currentItem+e>$variables.galleryItems.length-1?$variables.currentItem=0:$variables.currentItem=$variables.currentItem+e),0>e&&(0>$variables.currentItem+e?$variables.currentItem=$variables.galleryItems.length-1:$variables.currentItem=$variables.currentItem+e);else{if($variables.currentItem==e)return!1;$variables.currentItem=e}}function updateTbFileInfo(e){$counter='<span class="tb-counter">{0} of {1}</span> | '.f($variables.currentItem+1,$variables.galleryItems.length),$data='<a target="_blank" href="{0}" class="tb-filename" data-filename-full="{1}" data-last-modified="{2}">{3}</a> | <span class="tb-filesize">{4}</span>',$download=$(".tb-download"),$download.length>0&&$download.attr({filename:e.filenameFull,href:e.url}),$(".tb-current-item").html($counter+$data.f(e.url,e.filenameFull,e.modified,e.filename,e.filesize))}function galleryNavigate(e,t){return t=t||!1,1!=$variables.galleryIsBusy&&((0===e||!0===t||$variables.galleryItems.length>1)&&(setCurrentItem(e,t),showGalleryOverlay($variables.currentItem,void 0,!0),doesGalleryListExist()&&setGalleryListSelected($variables.currentItem),galleryLoading(!0),$("#gallery-container .gallery-item-container").length>0&&updateTbFileInfo(getItemData($variables.galleryItems.eq($variables.currentItem))),void galleryLoadItem($variables.galleryItems.eq($variables.currentItem).attr("data-thumb"))))}function getElementPositions(e){return{top:e.position().top,left:e.position().left,width:e.find("a").width(),offset:e.offset()}}function createThumbnailContainer(){return $("body").prepend('<div id="thumbnail-container"></div>'),$("#thumbnail-container")}function videoHasAudio(e){return void 0!==e.prop("mozHasAudio")&&!0===e.prop("mozHasAudio")||void 0!==e.prop("webkitAudioDecodedByteCount")&&e.prop("webkitAudioDecodedByteCount")>0}function adjustThumbnail(e){e=$("#thumbnail-container"),$child=e.children().first(),$child.is("img")?$src=$child.attr("src"):$child.is("video")?($src=$child.find("source").attr("src"),$child.get(0).play(),videoHasAudio($child)?($isVideoPreviewPlaying=!0,$videoPreview=$child):($isVideoPreviewPlaying=!1,$videoPreview=void 0)):$src=void 0,$variables.lastAdjusted!=$src&&(e.show(),$mediaContainer=e.find("img, video"),$mediaContainer.css("max-width",$(window).width()-e.position().left-25+"px"),$y=e.outerHeight()/100*(($mediaContainer.attr("data-offset")-$(window).scrollTop())/$(window).height())*100,e.css("top",e.css("top").replace(/[^-\d\.]/g,"")-$y),$variables.lastAdjusted=$src),$child.css("visibility","visible"),e.css({"max-height":"100vh","max-width":"100vw"})}function getCurrentVolume(){return $options["indexer.videoPreview.volume"]/100}function showThumbnail(e){$item=getItemData(e),$thumbnailIsLoading=!0,$variables.lastPreview=$item.filenameFull,$container=$("#thumbnail-container"),0==$("#thumbnail-container").length&&($container=createThumbnailContainer()),$container.html(""),$x=getElementPositions(e),$container.css({left:$x.left+$x.width+15,top:$x.top}),arrayContains($item.ext,["jpg","jpeg","gif","png","ico","svg","bmp"])?$options["indexer.useXMLHttpRequest"]?loadPreviewImage($item.url,Math.round($x.top),$container):$container.append('<img src="{0}" onload="adjustThumbnail();" data-offset="{1}">'.f($item.url,Math.round($x.top))):arrayContains($item.ext,["mp4","webm"])&&($v='<video loop autoplay oncanplay="adjustThumbnail(); this.volume=getCurrentVolume();" data-offset="'+Math.round($x.top)+'"><source src="'+$item.url+'"></video>',$container.append($v))}function hideThumbnail(){$container=$("#thumbnail-container"),$container.html(""),$container.hide(),$variables.lastAdjusted=void 0,$isVideoPreviewPlaying&&($isVideoPreviewPlaying=!1,$videoPreview=void 0,$videoPreviewVolumeChanged&&(setOptions("indexer.videoPreview.volume",$options["indexer.videoPreview.volume"]),$videoPreviewVolumeChanged=!1))}function showGalleryOverlay(e,t,i){hideThumbnail(),!0===$thumbnailIsLoading&&(hideProgressBar(250),$thumbnailIsLoading=!1),void 0==t&&void 0!=$variables.galleryListShow&&(t=$variables.galleryListShow),e=e||0,t=t||!1,i=i||!1,$variables.galleryItems=$("#indexer-files-table .item:visible .preview"),$.isNumeric(e)||e.is("td")&&(e=$variables.galleryItems.index(e)),setCurrentItem(e,!0),0==$("body > #gallery-container").length&&($("body").prepend('<div id="gallery-container"></div>'),disableMainScrolling(!0)),0==$("#gallery-container > .gallery-current-item").length&&$("#gallery-container").html('<div class="gallery-current-item"></div>'),$item=getItemData($variables.galleryItems.eq($variables.currentItem)),0==$("#gallery-container .gallery-item-container").length&&($np='<span class="tb-current-item"></span><div class="tb-right">'+'<a class="tb-download" href="{0}" download="" filename="{1}">[Download]</a>'.f($item.url,$item.filename)+'<span class="gallery-prev">[Previous]</span><span class="gallery-next">[Next]</span><span id="gallery-toggle-list" onclick="showGalleryList();">[List+]</span><span onclick="galleryClose();">[Close]</span></div>',$(".gallery-current-item").html('<div class="gallery-item-container"></div>'),$("#gallery-container").append('<div class="gallery-topbar"><div class="tb-items"></div></div>'),$(".gallery-topbar > .tb-items").append($np),$(".gallery-topbar > .tb-items").prepend(updateTbFileInfo($item)),$variables.isMobile&&$variables.galleryItems.length>1&&$("#gallery-container").append('<div class="navigation-overlay-left">&#x3C;</div><div class="navigation-overlay-right">&#x3E;</div>'),applySwipeEventListeners(),void 0!==$timer&&(clearTimeout($timer),hideThumbnail())),1!=i&&galleryLoadItem($variables.galleryItems.eq($variables.currentItem).attr("data-thumb")),t&&showGalleryList()}function scrollEventBreak(){$scrollBreak=!1}function loadImage(e,t){return new Promise((i,r)=>{$xhr=new XMLHttpRequest;$notifiedNotComputable=!1;$xhr.open("GET",e,!0);$xhr.responseType="arraybuffer";$xhr.onprogress=function(e){e.lengthComputable?t(parseInt(e.loaded/e.total*100)):$notifiedNotComputable||($notifiedNotComputable=!0,t(-1))};$xhr.onloadend=function(){(""+$xhr.status).match(/^2/)?($notifiedNotComputable||t(100),$opts={},$mime=$xhr.getAllResponseHeaders().match(/^Content-Type\:\s*(.*?)$/im),$mime&&$mime[1]&&($opts.type=$mime[1]),$blob=new Blob([this.response],$opts),i(window.URL.createObjectURL($blob))):r($xhr)};$xhr.send()})}function showProgressBar(){return $progress=$("#progress-bar"),$progress.length>0?$progress.attr("value",0):($("body").prepend('<progress id="progress-bar" value="0" max="100"></progress>'),$progress=$("#progress-bar")),$progress.stop().fadeIn(250),$progress}function hideProgressBar(e){$progress=$("#progress-bar"),$progress.length>0&&($progress.stop(),void 0!=e?$progress.fadeOut(e):$progress.hide())}function loadPreviewImage(e,t,i){$progress=showProgressBar(),loadImage(e,e=>{-1==e?$progress.attr("value",0):$progress.attr("value",e)}).then(e=>{!0===$thumbnailIsLoading&&i.append('<img src="{0}" onload="adjustThumbnail();" data-offset="{1}">'.f(e,t));hideProgressBar(250)},e=>{console.log(e);hideProgressBar(250)})}function getReadableFileSizeString(e){var t=-1,i=[" kB"," MB"," GB"," TB","PB","EB","ZB","YB"];do{e/=1024,t++}while(e>1024);return Math.max(e,.1).toFixed(1)+i[t]}function filerTable(e,t){e&&void 0!=e||$("#indexer-files-table tr").show(),$status=t.parents("#search-filter").find("span").first(),$status.html(""),$variables.currentItem=0,$syntaxError=!1,void 0!=t&&t.removeClass("error"),$hidden=$totalSize=0,$tableItems=$("#indexer-files-table .item"),$tableItems.each(function(){if($attributes=$(this).find("td"),$filename=$attributes.first().attr("data-raw"),$filesize=$attributes.eq(2).attr("data-raw"),void 0!=$filename)try{$filename.match(RegExp(e,"i"))?($(this).show(),$.isNumeric($filesize)&&($totalSize+=parseInt($filesize))):($(this).hide(),$hidden++)}catch(e){if(void 0!=t)return t.addClass("error"),$status.html("Syntax error :/"),$tableItems.show(),$syntaxError=!0,!1}}),$hidden>0?$("#file-count-bottom").html($tableItems.length-$hidden+"/"+$tableItems.length):$("#file-count-bottom").html($("#file-count-bottom").attr("data-total")),$totalSize>0?0==$hidden?$("#filesize-bottom").html($("#filesize-bottom").attr("data-total")):$("#filesize-bottom").html(getReadableFileSizeString($totalSize)):$tableItems.length-$hidden==0?$("#filesize-bottom").html("0 kB"):$("#filesize-bottom").html($("#filesize-bottom").attr("data-total")),0==$syntaxError&&$status.html("Showing "+($tableItems.length-$hidden)+" matches ..")}function toggleFilter(){if(galleryIsVisible())return!1;$searchFilter=$("#search-filter"),$searchFilter.length>0?($searchFilter.toggle(),$searchFilter.is(":visible")?($searchFilter.find("input").get(0).focus(),$("body").css("padding-bottom",$searchFilter.innerHeight()+"px")):$("body").css("padding-bottom","0px")):($searchFilter=$(document.createElement("div")).attr("id","search-filter"),$searchFilter.append('<div><input type="text" placeholder="Search .."></div>'),$searchFilter.append("<span></span>").append('<div id="search-filter-close"><span onclick="toggleFilter();">[X]</span></div>'),$("body").append($searchFilter),$("#search-filter input").get(0).focus(),$("body").css("padding-bottom",$searchFilter.innerHeight()+"px"))}function setOptions(e,t){localStorage.setItem(e,t)}function loadOptions(){$keys=[],$.each($options,function(e,t){$keys.push(e)}),$.each($keys,function(e,t){$key=getLocalStorageKey(t),null!==$key&&($options[t]=$key)}),console.log($options)}$variables={currentItem:0,currentItemType:void 0,galleryIsBusy:!1,galleryItems:void 0,galleryListShow:void 0,lastAdjusted:void 0,lastPreview:void 0,topbarHeight:0,scrollPosition:void 0,isMobile:!1},$options={"indexer.useXMLHttpRequest":!0,"indexer.videoPreview.volume":0,"indexer.videoPreview.adjustInterval":1.5,"gallery.hover.showImageOptions":!0,"gallery.scrollInterval":0},String.prototype.format=String.prototype.f=function(){for(var e=this,t=arguments.length;t--;)e=e.replace(RegExp("\\{"+t+"\\}","gm"),arguments[t]);return e},jQuery.expr.filters.offscreen=function(e){return $rect=e.getBoundingClientRect(),0>$rect.x+$rect.width||0>$rect.y+$rect.height||$rect.x>window.innerWidth||$rect.y>window.innerHeight},$(document).on("click","#gallery-list > table > tbody > tr",function(){galleryNavigate($(this).index(),!0)}),$shiftKey=!1,$(document).keydown(function(e){if($shiftKey=e.shiftKey,27==e.keyCode&&($searchFilter=$("#search-filter"),$searchFilter.is(":visible")&&$searchFilter.find("input").is(":focus")&&toggleFilter()),70==e.keyCode&&1==$shiftKey){if($searchFilter=$("#search-filter"),$searchFilter.is(":visible")&&$searchFilter.find("input").is(":focus"))return!0;e.preventDefault(),e.stopPropagation(),toggleFilter()}38!=e.keyCode&&40!=e.keyCode||isGalleryListVisible()&&(e.preventDefault(),e.stopPropagation())}),$(document).keyup(function(e){$shiftKey=e.shiftKey,galleryIsVisible()&&galleryHandleKey(e.keyCode)}),$(document).on("click","#gallery-container",function(e){($(e.target).is("#gallery-container, .gallery-current-item, .tb-reverse-search-container, .gallery-item-container, #image-container")||$(e.target).hasClass("gallery-item-container"))&&galleryClose()}),$(document).on("mouseenter","#image-container, #video-container",function(e){$options["gallery.hover.showImageOptions"]&&($(".tb-reverse-search-container").stop(),$(".tb-reverse-search-container").fadeIn(88))}),$(document).on("mouseleave","#image-container, #video-container",function(e){$options["gallery.hover.showImageOptions"]&&($(".tb-reverse-search-container").stop(),$(".tb-reverse-search-container").fadeOut(88))}),window.onmouseover=function(e){$("#thumbnail-container").is(":visible")&&$(e.target).parent().hasClass("preview")&&$(e.target).hasClass("preview")&&hideThumbnail()},$(document).on("click","#view-gallery",function(){if(0===$("#indexer-files-table .item:visible .preview").length)return!1;0===$("#gallery-container").length&&($("body").prepend('<div id="gallery-container"></div>'),disableMainScrolling(!0)),$variables.galleryItems=$("#indexer-files-table .item:visible .preview"),galleryNavigate(0)}),$(document).on("click",".copy.wget",function(){copyToClipboard(".bottom > .command.wget"),$fadeTime=150,$(this).fadeOut($fadeTime),$(this).promise().done(function(){$(this).css("color","#32c232"),$(this).text("[Copied to clipboard!]"),$(this).fadeIn($fadeTime)}),setTimeout(function(){$thisElement=$(".copy.wget"),$thisElement.fadeOut($fadeTime),$thisElement.promise().done(function(){$thisElement.css("color",$(".bottom").css("color")),$thisElement.text("[Copy to clipboard]"),$thisElement.fadeIn($fadeTime)})},5e3)}),$(document).on("click","#wget",function(){$(".bottom > .command").length&&($(".bottom > .command.wget, .bottom > .command-bottom").toggle(),"none"==$(".bottom > .command.wget").css("display")?$(this).text("[+wget]"):($(this).text("[-wget]"),$("html, body").animate({scrollTop:$(document).height()},1e3)))}),$(document).on("click",".tb-right > .gallery-prev",function(e){galleryNavigate(-1)}),$(document).on("click",".tb-right > .gallery-next",function(e){galleryNavigate(1)}),$isVideoPreviewPlaying=!1,$videoPreview=void 0,$videoPreviewVolumeChanged=!1,$thumbnailIsLoading=!1,$(document).on("click",".preview > a",function(e){$variables.isMobile?showGalleryOverlay($(this).parent(),!1):showGalleryOverlay($(this).parent(),!0),e.preventDefault()}),$(document).on("input","#search-filter input",function(){filerTable($(this).val(),$(this))}),$(document).on("click",".navigation-overlay-left",function(e){galleryNavigate(-1),e.preventDefault()}),$(document).on("click",".navigation-overlay-right",function(e){galleryNavigate(1),e.preventDefault()}),$timer=void 0,$(document).on("mouseenter",".preview > a",function(){$item=$(this).parent(),$timer=setTimeout(function(){showThumbnail($item)},250)}),$(document).on("mouseleave",".preview > a",function(){clearTimeout($timer),hideThumbnail(),!0===$thumbnailIsLoading&&(hideProgressBar(250),$thumbnailIsLoading=!1)}),$scrollBreak=!1,$(document).on("DOMMouseScroll mousewheel",".preview a",function(e){$isVideoPreviewPlaying&&(e.preventDefault(),$currentVolume=$options["indexer.videoPreview.volume"],e.originalEvent.detail>0||0>e.originalEvent.wheelDelta?$currentVolume-=$options["indexer.videoPreview.adjustInterval"]:$currentVolume+=$options["indexer.videoPreview.adjustInterval"],$currentVolume=$currentVolume>100?100:$currentVolume,$currentVolume=0>$currentVolume?0:$currentVolume,$currentVolume>100||0>$currentVolume||($options["indexer.videoPreview.volume"]=$currentVolume,void 0!==$videoPreview&&($videoPreviewVolumeChanged=!0,$videoPreview.prop("volume",$options["indexer.videoPreview.volume"]/100))))}),$(document).on("DOMMouseScroll mousewheel",".gallery-item-container",function(e){return e.originalEvent.detail>0||0>e.originalEvent.wheelDelta?!1===$scrollBreak&&(galleryNavigate(1),$options["gallery.scrollInterval"]>0&&($scrollBreak=!0,setTimeout(scrollEventBreak,$options["gallery.scrollInterval"]))):!1===$scrollBreak&&(galleryNavigate(-1),$options["gallery.scrollInterval"]>0&&($scrollBreak=!0,setTimeout(scrollEventBreak,$options["gallery.scrollInterval"]))),!1}),$(window).on("load",function(){$("table").find(".item > .preview > a").length>0&&($(".upper-container").after('<div id="view-gallery" class="gallery-mode">[Gallery Mode]</div>'),$("#view-gallery").show(),isMobileDevice()&&($variables.isMobile=!0),$variables.isMobile&&($("#view-gallery").wrap('<div class="upper-extras"></div>'),$(".upper-extras").prepend('<div onclick="toggleFilter();">[Search Filter]</div>'))),loadOptions()}),$(document).ready(function(){function e(e){return function(i,r){var a=t(i,e),o=t(r,e);return $.isNumeric(a)&&$.isNumeric(o)?a-o:a.localeCompare(o)}}function t(e,t){return $(e).children("td").eq(t).attr("data-raw")}$("th.sortable").click(function(){$variables.currentItem=0;var t=$(this).parents("table").eq(0),i=t.find("tr.item").toArray().sort(e($(this).index()));this.asc=!this.asc,this.asc||(i=i.reverse());for(var r=0;r<i.length;r++)t.append(i[r])}),$("body").find("#wget").length>0?($list=[],$element=$(".bottom > .command"),$domain=document.location.origin+"/"+$element.attr("data-path"),$("#indexer-files-table .item").each(function(){$(this).find("td:last a").attr("filename")&&($filename=$(this).find("td").first().attr("data-raw"),void 0!=$filename&&($extension=$filename.substr($filename.lastIndexOf(".")+1),void 0!=$extension&&-1==jQuery.inArray($extension,$list)&&$list.push($extension)))}),$list.length>0&&void 0!=$domain&&void 0!=$element?$element.html('wget -r -np -nH -nd -e robots=off --accept "'+$list.join()+'" "'+$domain+'"'):$("#wget, .command, .command-bottom").remove()):$("#wget, .command, .command-bottom").remove()});